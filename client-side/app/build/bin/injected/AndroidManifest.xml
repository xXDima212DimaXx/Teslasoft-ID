<?xml version="1.0" encoding="utf-8"?>
<manifest
	xmlns:android="http://schemas.android.com/apk/res/android"
	package="com.teslasoft.id.smartcard"
	android:versionCode="11225"
	android:versionName="1.12.25.20210523-stable">

	<uses-sdk
		android:minSdkVersion="21"
		android:targetSdkVersion="29"/>

	<uses-permission
		android:name="android.permission.INTERNET"/>

	<uses-permission
		android:name="android.permission.NFC"/>

	<uses-permission
		android:name="com.android.vending.CHECK_LICENSE"/>

	<uses-feature
		android:name="android.hardware.nfc"
		android:required="true"/>

	<application
		android:allowBackup="true"
		android:icon="@drawable/app_icon"
		android:label="@string/app_name"
		android:theme="@style/AppTheme">

		<activity
			android:name=".InfoActivity"
			android:label="@string/app_name"
			android:launchMode="singleTask"
			android:exported="true">

			<intent-filter>

				<action
					android:name="android.intent.action.MAIN"/>

				<category
					android:name="android.intent.category.LAUNCHER"/>

			</intent-filter>

		</activity>

		<activity
			android:name=".NfcAuthenticator"
			android:label="@string/app_name"
			android:launchMode="singleTask"
			android:exported="true">

			<intent-filter>

				<action
					android:name="com.teslasoft.id.smartcard.NfcAuthenticator"/>

				<action
					android:name="android.nfc.action.NDEF_DISCOVERED"/>

				<action
					android:name="android.nfc.action.MAIN"/>

				<action
					android:name="android.nfc.action.TECH_DISCOVERED"/>

				<action
					android:name="android.nfc.action.TAG_DISCOVERED"/>

				<category
					android:name="android.intent.category.DEFAULT"/>

				<data
					android:mimeType="text/plain"/>

			</intent-filter>

			<intent-filter
				android:order="1"
				android:autoVerify="true">

				<action
					android:name="android.intent.action.VIEW"/>

				<category
					android:name="android.intent.category.DEFAULT"/>

				<category
					android:name="android.intent.category.BROWSABLE"/>

				<data
					android:scheme="https"
					android:host="id.teslasoft.org"
					android:pathPrefix="/smartcard/open"/>

			</intent-filter>

			<meta-data
				android:name="default-url"
				android:value="https://id.teslasoft.org"/>

			<meta-data
				android:name="android.nfc.action.TECH_DISCOVERED"
				android:resource="@xml/nfc_tech_filter"/>

		</activity>

	</application>

</manifest>

